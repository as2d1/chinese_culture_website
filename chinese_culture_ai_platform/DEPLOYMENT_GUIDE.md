# 中国传统文化知识AI问答平台 - 部署指南

本文档提供了不同场景下部署中国传统文化知识AI问答平台的方法。根据您的需求，您可以选择适合您的部署方式。

## 1. 快速开始

### 使用部署脚本（推荐）

我们提供了简易的部署脚本，您可以通过以下方式快速部署：

#### Windows系统:

双击运行 `deploy.bat` 文件，然后按照提示选择部署模式。

#### Linux/Mac系统:

```bash
chmod +x deploy.sh  # 赋予执行权限
./deploy.sh         # 运行脚本
```

### 手动部署

如果您想手动部署，可以按照以下步骤：

#### 本地访问模式

```bash
# 在命令行中运行
python app.py
```

然后在浏览器中访问：http://127.0.0.1:5000

#### 局域网访问模式

```bash
# 在命令行中运行
python app_lan.py
```

然后您和局域网内的其他设备可以通过您的本地IP地址访问，例如：http://192.168.1.100:5000

## 2. 部署模式说明

### 2.1 本地模式

- **特点**: 仅限本机访问，安全性高
- **适用场景**: 个人使用，不需要与他人分享
- **访问方式**: http://127.0.0.1:5000 或 http://localhost:5000

### 2.2 局域网模式

- **特点**: 同一局域网内的设备均可访问
- **适用场景**: 家庭、办公室内部分享使用
- **访问方式**: http://您的IP地址:5000 (IP地址会在启动时显示)
- **注意事项**: 
  - 确保防火墙已允许5000端口访问
  - 部分企业网络可能会限制内部设备之间的访问

### 2.3 公网访问模式

如果您希望让互联网上的任何人都能访问您的平台，您需要使用以下方法之一：

- **内网穿透工具**: 请参阅 `deploy_ngrok.md` 或 `deploy_oray.md`
- **云服务器部署**: 请参阅 `cloud_deployment.md`

## 3. 常见问题

### 3.1 访问速度慢

- 检查您的网络连接
- 考虑升级到性能更好的服务器
- API请求可能受到限制，检查您的API使用配额

### 3.2 无法通过IP访问

- 确认您使用的是 `app_lan.py` 而不是 `app.py`
- 检查防火墙设置，确保5000端口已开放
- 尝试暂时关闭防火墙或安全软件进行测试

### 3.3 API密钥问题

如果遇到API密钥相关的错误，请检查：
- 讯飞星火API密钥是否正确填写
- API密钥是否已过期
- 是否超出了API使用限额

## 4. 安全提示

- 在公网环境下部署时，建议添加用户认证机制
- 定期更新API密钥
- 不要在公共场合分享您的API密钥
- 考虑设置API请求限制，防止恶意使用

## 5. 自定义配置

您可以通过编辑以下文件来自定义平台：

- `app.py` 或 `app_lan.py`: 修改后端配置，如API密钥、端口等
- `templates/index.html`: 修改网页界面
- `static/css/style.css`: 修改页面样式
- `static/js/script.js`: 修改前端交互逻辑

## 6. 获取支持

如有任何问题，请参考项目文档或联系技术支持。
